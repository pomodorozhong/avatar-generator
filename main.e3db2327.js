parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"XjL4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControlGenerator=void 0;var e=function(){function e(e){this.presenter=e}return e.prototype.updateSettingControl=function(e){this.presenter.getSelectedPatternName();var t=this.presenter.getSelectedPatternSetting().getOptions();if(!t)throw new Error("setting_options is undefined");for(;e.firstChild;)e.removeChild(e.lastChild);for(var r=0;r<t.length;r++){var n=t[r],o=n.type;switch(o){case"numeric_range":this.handler_numeric_range(e,n);break;case"string":case"bool":default:throw new Error(o+"'s Control Generation not implemented.")}}},e.prototype.handler_numeric_range=function(e,t){var r,n,o,a=t.name,i=document.createElement("span");i.innerText=t.name;var d=document.createElement("label");d.htmlFor=a,d.appendChild(i),e.appendChild(d);var l=document.createElement("select");l.id=a;var s=null===(r=t.range)||void 0===r?void 0:r[0],c=null===(n=t.range)||void 0===n?void 0:n[1],p=null===(o=t.range)||void 0===o?void 0:o[2];if(void 0===s||void 0===c||void 0===p)throw new Error(t.name+"'s range is bad");for(var v=s;v<=c;v+=p){v=Math.round(10*v)/10,(m=document.createElement("option")).text=v,l.appendChild(m)}var u=t.value,h=0;for(v=s;v<=c;v+=p){var m;u==(m=l.options[h]).text&&(m.selected=!0),h++}e.appendChild(l);var g=this;l.addEventListener("change",function(e){var r=e.target.value;g.presenter.setSelectedPatternSetting(t.name,r)},!1)},e}();exports.ControlGenerator=e;
},{}],"iv8z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.View=void 0;var e=require("./controlGenerator"),t=function(){function t(t){this.presenter=t,this.controlGenerator=new e.ControlGenerator(this.presenter),this.canvas=document.getElementsByTagName("canvas")[0];this.canvas.width=480,this.canvas.height=480,this.initialPatternSelection(),this.hookEventListeners(),this.settingHandler()}return t.prototype.initialPatternSelection=function(){var e=document.getElementById("ddl_select_pattern");e.addEventListener("change",function(e){var t=e.target.value;o.presenter.selectPattern(t),o.settingHandler()},!1);for(var t=this.presenter.getPatternList(),n=0;n<t.length;n++){var r=t[n],a=document.createElement("option");a.appendChild(document.createTextNode(r)),e.appendChild(a)}var i=this.presenter.selectPerformantPatternRandomly();e.selectedIndex=t.indexOf(i),this.presenter.draw(this.canvas);var o=this},t.prototype.hookEventListeners=function(){document.getElementById("btn_generate").addEventListener("click",function(){e.presenter.draw(e.canvas)}),this.canvas.addEventListener("click",function(){var t=e.canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),n=document.getElementById("a_download");null==n||n.setAttribute("download","avatar.png"),null==n||n.setAttribute("href",t)});var e=this},t.prototype.settingHandler=function(){var e=document.getElementById("setting_container");this.controlGenerator.updateSettingControl(e)},t}();exports.View=t;
},{"./controlGenerator":"XjL4"}],"vyka":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PatternSetting=exports.PatternSettingOption=void 0;var t=["numeric_range","bool","string"],n=function(){return function(t,n,o,e,i){switch(n){case"numeric_range":if(null==e)throw new Error("'numeric_range' type is selected, but 'range' undefined.");break;case"string":if(null==i)throw new Error("'string' type is selected, but 'string_pool' undefined.")}this.name=t,this.type=n,this.value=o,this.range=e,this.string_pool=i}}();exports.PatternSettingOption=n;var o=function(){function t(){}return t.prototype.addOption=function(t){void 0===this.options&&(this.options=new Array),this.options.push(t)},t.prototype.getValue=function(t){if(void 0===this.options)throw new Error("this.options === undefined");for(var n=void 0,o=0,e=this.options;o<e.length;o++){var i=e[o];i.name==t&&(n=i.value)}if(null==n)throw new Error(t+" is not an option.");return n},t.prototype.setValue=function(t,n){if(void 0===this.options)throw new Error("this.options === undefined");for(var o=0,e=this.options;o<e.length;o++){var i=e[o];i.name==t&&(i.value=n)}if(!n)throw new Error(t+" is not an option.")},t.prototype.getOptions=function(){return this.options},t}();exports.PatternSetting=o;
},{}],"NN4w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cross=void 0;var t=require("./patternSetting"),e=function(){function e(){this.name="Cross",this.settings=new t.PatternSetting,this.settings.addOption(new t.PatternSettingOption("randomness","numeric_range",3,[0,4,1]))}return e.prototype.draw=function(t){var e=t.getContext("2d");e.fillStyle="white",e.fillRect(0,0,480,480);for(var r=100,n=100,s=0;s<24;s++){var o=this.calcOffest(r),i=this.calcOffest(n);e.strokeRect(r+o,n+i,50,50),r+=10,n+=10}r=100,n=330;for(s=0;s<24;s++){o=this.calcOffest(r),i=this.calcOffest(n);e.strokeRect(r+o,n+i,50,50),r+=10,n-=10}},e.prototype.calcOffest=function(t){var e=this.centerPrecisionCoeff(t),r=40*Math.random()*e;return Math.random()<.5&&(r*=-1),r},e.prototype.centerPrecisionCoeff=function(t){var e=t+25;return Math.abs(e-240)/240*this.settings.getValue("randomness")},e}();exports.Cross=e;
},{"./patternSetting":"vyka"}],"byBN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CubicDisarray=void 0;var t=require("./patternSetting"),e=function(){function e(){this.name="CubicDisarray",this.settings=new t.PatternSetting,this.settings.addOption(new t.PatternSettingOption("randomness","numeric_range",1,[.4,2,.2])),this.settings.addOption(new t.PatternSettingOption("compactness","numeric_range",12,[6,20,1]))}return e.prototype.draw=function(t){var e=t.getContext("2d");if(null==e)throw new Error("ctx == null");e.fillStyle="white",e.fillRect(0,0,480,480);e.lineWidth=2;var n=this.settings.getValue("compactness"),r=460/(n=parseInt(n)+1);for(var a,i,s=480-r-10,o=480-r-10,u=r;u<=s;u+=r)for(var c=r;c<=o;c+=r){var d=Math.random()<.5?-1:1,g=c/480*Math.PI/180*d*Math.random()*this.settings.getValue("randomness")*20,h=c/480*(d=Math.random()<.5?-1:1)*Math.random()*this.settings.getValue("randomness")*15;e.save(),e.translate(u+h+10,c+10),e.rotate(g),a=r,i=r,e.beginPath(),e.rect(-a/2,-i/2,a,i),e.stroke(),e.restore()}},e}();exports.CubicDisarray=e;
},{"./patternSetting":"vyka"}],"Uz6A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TriangularMesh=void 0;var t=require("./patternSetting"),e=function(){function e(){this.name="CubicDisarray",this.settings=new t.PatternSetting,this.settings.addOption(new t.PatternSettingOption("randomness","numeric_range",1,[.4,2,.2])),this.settings.addOption(new t.PatternSettingOption("compactness","numeric_range",8,[6,20,2]))}return e.prototype.draw=function(t){var e=t.getContext("2d");if(null==e)throw new Error("ctx == null");e.fillStyle="white",e.fillRect(0,0,480,480);var n;e.lineWidth=2,e.lineJoin="bevel";for(var r,i=!1,o=[],a=this.settings.getValue("compactness"),s=this.settings.getValue("randomness"),l=480/a,h=l/2;h<=480;h+=l){i=!i,n=[];for(var u=l/4;u<=480;u+=l){({x:u+(i?l/2:0),y:h});var g=(.8*Math.random()-.4)*l*s+(i?l/2:0),f=(.8*Math.random()-.4)*l*s;n.push({x:u+g,y:h+f}),e.fill()}o.push(n)}i=!0;for(h=0;h<o.length-1;h++){i=!i,r=[];for(var p=0;p<o[h].length;p++)r.push(i?o[h][p]:o[h+1][p]),r.push(i?o[h+1][p]:o[h][p]);for(p=0;p<r.length-2;p++)c(r[p],r[p+1],r[p+2])}function c(t,n,r){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(r.x,r.y),e.lineTo(t.x,t.y),e.closePath();var i=Math.floor(16*Math.random()).toString(16);e.fillStyle="#"+i+i+i,e.fill(),e.stroke()}},e}();exports.TriangularMesh=e;
},{"./patternSetting":"vyka"}],"HrZP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CirclePacking=void 0;var t=require("./patternSetting"),r=function(){function r(){this.name="CirclePacking",this.settings=new t.PatternSetting,this.settings.addOption(new t.PatternSettingOption("max radius","numeric_range",100,[20,200,20])),this.settings.addOption(new t.PatternSettingOption("gap","numeric_range",0,[0,30,5]))}return r.prototype.draw=function(t){var r=t.getContext("2d");if(null==r)throw new Error("ctx == null");r.fillStyle="white",r.fillRect(0,0,480,480);var i=480;r.lineWidth=2,r.lineJoin="bevel";var e=[],n=2,a=this.settings.getValue("max radius"),s=500,u=this.settings.getValue("gap");function o(){for(var t,u=!1,o=0;o<s;o++)if(!d(t={x:Math.floor(Math.random()*i),y:Math.floor(Math.random()*i),radius:n})){u=!0;break}if(u){for(var l=n;l<a;l++)if(t.radius=l,d(t)){t.radius--;break}e.push(t),r.beginPath(),r.arc(t.x,t.y,t.radius,0,2*Math.PI),r.stroke()}}function d(t){for(var r=0;r<e.length;r++){var n=e[r],a=t.radius+n.radius,s=t.x-n.x,o=t.y-n.y;if(a>=Math.sqrt(s*s+o*o)-u)return!0}return t.x+t.radius>=i||t.x-t.radius<=0||(t.y+t.radius>=i||t.y-t.radius<=0)}for(var l=0;l<500;l++)o()},r}();exports.CirclePacking=r;var i=function(){return function(t,r,i){this.x=t,this.y=r,this.radius=i}}();
},{"./patternSetting":"vyka"}],"ZTvT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PatternManager=void 0;var e=require("./patterns/cross"),t=require("./patterns/cubicDisarray"),r=require("./patterns/triangularMesh"),s=require("./patterns/circlePacking"),n=["CubicDisarray","Cross","TriangularMesh","CirclePacking"],a=function(){function a(){this.initPatterns(),this.selected=n[0],this.patternNames=n,this.patternNamesOfPerformants=[this.patternNames[0],this.patternNames[1],this.patternNames[2],this.patternNames[3]]}return Object.defineProperty(a.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selectedSetting",{get:function(){return this.patterns[this.selected].settings},enumerable:!1,configurable:!0}),a.prototype.selectPerformantRandomly=function(){var e=this.patternNamesOfPerformants.length,t=Math.floor(Math.random()*e)%e,r=this.patternNamesOfPerformants[t];this.selected=r},a.prototype.initPatterns=function(){this.patterns={Cross:new e.Cross,CubicDisarray:new t.CubicDisarray,TriangularMesh:new r.TriangularMesh,CirclePacking:new s.CirclePacking}},a.prototype.draw=function(e){this.patterns[this.selected].draw(e)},a}();exports.PatternManager=a;
},{"./patterns/cross":"NN4w","./patterns/cubicDisarray":"byBN","./patterns/triangularMesh":"Uz6A","./patterns/circlePacking":"HrZP"}],"JxMI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Presenter=void 0;var e=require("./view"),t=require("./patternManager"),r=function(){function r(){this.patternManager=new t.PatternManager,this.view=new e.View(this)}return r.prototype.selectPerformantPatternRandomly=function(){return this.patternManager.selectPerformantRandomly(),this.patternManager.selected},r.prototype.selectPattern=function(e){this.patternManager.selected=e},r.prototype.getPatternList=function(){return this.patternManager.patternNames},r.prototype.getSelectedPatternName=function(){return this.patternManager.selected},r.prototype.getSelectedPatternSetting=function(){return this.patternManager.selectedSetting},r.prototype.setSelectedPatternSetting=function(e,t){this.patternManager.selectedSetting.setValue(e,t)},r.prototype.draw=function(e){this.patternManager.draw(e)},r}();exports.Presenter=r;
},{"./view":"iv8z","./patternManager":"ZTvT"}],"g7hl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./presenter"),r=new e.Presenter;
},{"./presenter":"JxMI"}]},{},["g7hl"], null)